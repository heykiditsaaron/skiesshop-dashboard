<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shop Dashboard Visual Editor</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <div class="topbar">
      <div class="theme-toggle" aria-label="Theme">
        <details class="theme-menu">
          <summary class="btn btn--ghost btn--tiny">&#9776; Theme</summary>
          <div class="theme-menu__list">
            <button id="themeSystemBtn" class="btn btn--ghost btn--tiny" aria-label="System theme">System</button>
            <button id="themeLightBtn" class="btn btn--ghost btn--tiny" aria-label="Light theme">Light</button>
            <button id="themeDarkBtn" class="btn btn--ghost btn--tiny" aria-label="Dark theme">Dark</button>
          </div>
        </details>
      </div>
    </div>

    <header class="hero hero--compact">
      <div class="hero__text">
        <p class="eyebrow">Skies Shop</p>
        <h1>Dashboard Visual Editor</h1>
      </div>
      <div class="hero__right">
        <div class="hero__status">
          <div class="status-label">Status</div>
          <div class="status-value" id="status">Ready.</div>
          <div class="status-badge" id="unsavedBadge" style="display:none;">Unsaved changes</div>
        </div>
      </div>
    </header>
    <nav class="menu-bar">
      <div class="menu-inline">
        <label for="serverSelect">Server</label>
        <select id="serverSelect"></select>
        <label for="shopSelect">Shop</label>
        <select id="shopSelect"></select>

        <button id="loadBtn" class="btn btn--ghost">Load</button>
        <button id="saveBtn" class="btn btn--primary">Save</button>
      </div>
      <div class="menu-item menu-right">
        <details class="menu-item">
          <summary><span>Advanced Options</span><span class="caret">v</span></summary>
          <div class="menu-content">
            <div class="menu-actions">
              <button id="importBtn" class="btn btn--ghost">Import</button>
              <button id="exportBtn" class="btn btn--ghost">Export</button>
              <input id="importFile" type="file" accept=".json,application/json" style="display:none;" />
            </div>
            <div class="menu-actions">
              <button id="createShopBtn" class="btn btn--ghost">Create</button>
              <button id="deleteShopBtn" class="btn btn--danger">Delete</button>
            </div>
            <label for="backupSelect">Backups</label>
            <select id="backupSelect" aria-label="Backups"></select>
            <div class="menu-actions">
              <button id="refreshBackupsBtn" type="button" class="btn">Refresh</button>
              <button id="restoreBtn" type="button" class="btn btn--ghost">Restore Selected</button>
            </div>
          </div>
        </details>
      </div>
    </nav>

    <section class="panel panel--title" id="titleSection" style="display:none;">
      <div class="formRow compact">
        <div><b>Shop Title</b></div>
        <input id="shopTitle" />
      </div>
    </section>

    <section class="panel panel--grid">
      <div class="gridHeader">
        <div class="gridTop">
          <div class="filterToggle">
            <button id="toggleFilter" class="btn btn--ghost btn--tiny">Filter</button>
            <input id="slotFilter" class="slotFilter" placeholder="Filter by entry or item..." style="display:none;" />
          </div>
        </div>
        <div class="gridMeta">
          <div class="pages" id="pages"></div>
          <div class="pageStats" id="pageStats"></div>
        </div>
      </div>
      <div class="gridWrap">
        <div class="grid" id="grid"></div>
      </div>
      <div class="conflicts" id="conflictList"></div>
    </section>

    <section class="panel panel--editor collapsible" data-collapsed="false">
      <div class="collapsible__header">
        <div class="panel__header">
          <div>
            <p class="eyebrow">Slot Editor</p>
            <h2>Edit entry details</h2>
          </div>
          <div class="pill" id="slotIndexPill">Slot <span id="slotIndexDisplay"></span></div>
        </div>
        <button class="btn btn--ghost toggleBtn" data-target="editorContent">Toggle</button>
      </div>

      <div id="editorEmpty" class="empty">Tap a slot to edit or create an entry.</div>

      <div id="editorPanel" class="editor-body" style="display:none;">
        <div id="editorContent">
          <div class="formRow compact">
            <div>Entry ID</div>
            <input id="entryId" />
          </div>

          <div class="formRow compact">
            <div>Item ID</div>
            <input id="itemId" />
          </div>

          <details class="panel panel--json">
            <summary><b>Advanced display options</b></summary>
            <div class="formRow compact">
              <div>Display Name</div>
              <input id="displayName" placeholder="Optional custom name" />
            </div>

            <div class="formRow compact">
              <div>Display Item</div>
              <input id="displayItem" placeholder="Optional override item id" />
            </div>

            <div class="formRow compact">
              <div>Display Lore</div>
              <textarea id="displayLore" placeholder="One line per lore entry"></textarea>
            </div>
          </details>

          <div class="formRow compact">
            <div>Buy Price</div>
            <div class="priceSingle">
              <input id="buyPrice" type="number" step="any" placeholder="Price" />
              <select id="buyCurrency"></select>
              <select id="buyPreset" class="presetSelect">
                <option value="">Preset</option>
                <option value="10">10</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="500">500</option>
              </select>
            </div>
          </div>

          <div class="formRow compact">
            <div>Sell Price</div>
            <div class="priceSingle">
              <input id="sellPrice" type="number" step="any" placeholder="Price" />
              <select id="sellCurrency"></select>
              <select id="sellPreset" class="presetSelect">
                <option value="">Preset</option>
                <option value="10">10</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="500">500</option>
              </select>
            </div>
          </div>

          <div class="row actions">
            <button id="applyBtn" class="btn btn--primary">Apply</button>
            <button id="deleteEntryBtn" class="btn btn--danger">Delete Entry</button>
            <button id="duplicateEntryBtn" class="btn">Duplicate</button>
            <button id="copyEntryBtn" class="btn btn--ghost">Copy</button>
            <button id="pasteEntryBtn" class="btn btn--ghost">Paste</button>
          </div>
        </div>
      </div>

      <details class="panel panel--json">
        <summary><b>JSON Preview</b></summary>
        <textarea id="rawJson" readonly></textarea>
      </details>
    </section>
  </div>

  <script type="module" src="main.js"></script>
</body>
</html>





